# BIR
Book I Read

# 1. 타입스크립트와 자바스크립트의 관계 이해하기

- 타입스크립트는 자바스크립트의 상위 집합이다.
  - 모든 자바스크립트 프로그램은 타입스크립트지만 그 반대는 성립하지 않는다.
- 타입 시스템의 목표: 런타임에 오류를 발생시킬 코드를 미리 찾아내는 것 **(정적 타입 시스템)**
  - 모든 자바스크립트는 타입스크립트이지만, 일부 자바스크립트(타입스크립트)만이 타입체크를 통과한다.

# 2. 타입스크립트 설정 이해하기

- 타입스크립트 설정 커맨드 라인, 또는 `tsconfig.json` 파일 **!!추천**
  ```
  $ tsc --noImplicitAny program.ts
  ```
- 설정 파일 생성 `tsc --init`

### `noImplicitAny`

- 변수들이 미리 정의된 타입을 가져야 하는지 여부를 제어한다.
- 설정되어 있다면 아래의 코드는 오류가 된다.

  ```js
  function add(a, b) {
  	return a + b
  }
  ```

  설정되어 있지 않다면 타입스크립트가 추론하여 타입을 설정한다.

- **되도록이면 `noImplicitAny`를 설정하여 타입을 명시하도록 하자.** || 타입스크립트를 사용하는 의미가 없다.
- 해당 설정을 해제하는 경우는 JS 파일을 TS로 전환하는 경우에만 필요

### `strictNullChecks`

- `null`과 `undefined`가 모든 타입에서 허용되는지 확인한다.

```js
const x: num = null // 'null' 형식은 'number' 형식에 할당할 수 없습니다. (strictNullChecks가 true인 경우)
```

### 그 외

- `noImplicitThis`
- `strictFunctionTypes`
- 그냥 타입스크립트에 strict 설정을 하면 대부분의 오류를 잡아낸다.

# 3. 코드 생성과 타입이 관계없음을 이해하기

### 타입스크립트 컴파일러의 두 가지 역할

- 최신 타입스크립트/자바스크립트를 브라우저에서 동작할 수 있도록 구버전의 자바스크립트로 트랜스파일한다.
- 코드의 타입 오류를 체크한다.

### 위 두가지 역할은 완전히 독립적으로 동작한다. 따라서,

1. 타입 오류가 있는 코드도 컴파일이 가능하다. (<-> 타입체크와 컴파일이 동시에 일어나는 C, Java)

- 오류가 있을때 컴파일하지 않으려면 `noEmitOnError`를 설정하거나 빌드 도구에 동일하게 적용한다.

2. 런타임에는 타입 체크가 불가능하다.

- 타입스크립트는 자바스크립트로 컴파일되는 과정에서 모든 인터페이스, 타입, 타입 구문이 제거된다.
- 따라서 필요한 경우 **태그된 유니온**과 **속성 체크 방법** 등을 이용한다.

3. 타입 연산은 런타임에 영향을 주지 않는다.

   ```js
   function toNum(val: number | string): number {
     return val as number
   }
   // 위 코드는 실제로 아래와 같이 동작한다.
   function toNum(val) {
     return val;
   }
   ```

4. 타입스크립트 타입으로는 함수를 오버로드할 수 없다.

- 타입스크립트에서는 타입과 런타임 동작이 무관하기 때문에 함수 오버로딩이 불가능하다.
  - **함수 오버로딩**: 동일한 이름에 매개변수만 다른 여러 버전의 함수를 허용하는 것

5. 타입스크립트 타입은 런타임 성능에 영향을 주지 않는다.

# 4. 구조적 타이핑에 익숙해지기

- 타입스크립트는 구조적 타이핑을 사용한다.
- 타입은 오픈 되어있다. 즉 타입의 확장에 열려있다.
- 이러한 특징은 유닛 테스팅에 유리하다.

# 5. `any` 타입 지양하기

- `any` 타입에는 타입 안전성이 없다.
- `any`는 함수 시그니처를 무시한다.
- `any` 타입에는 언어 서비스가 적용되지 않는다. (자동완성 기능, 도움말, 이름 변경 기능)
- ... 그냥 쓰지 말자.
